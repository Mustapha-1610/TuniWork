<div class="container">
  <div class="card shadow mb-4">
    <div class="card-body">
      <h3>Public Job Offer Details</h3>
      <ul>
        <li><strong>Title:</strong> {{ publicJobOffer?.Title }}</li>
        <li><strong>Work Title:</strong> {{ publicJobOffer?.WorkTitle }}</li>
        <li><strong>Description:</strong> {{ publicJobOffer?.Description }}</li>

        <li><strong>Applied Freelancers:</strong></li>

        <li *ngIf="publicJobOffer?.AppliedFreelancers?.length">
          <div class="card">
            <div class="card-body">
              <ul class="list-group list-group-flush">
                <li *ngIf="publicJobOffer?.AppliedFreelancers?.length">
                  <div class="card">
                    <div class="card-body">
                      <ul class="list-group list-group-flush">
                        <li
                          *ngFor="
                            let freelancer of publicJobOffer?.AppliedFreelancers
                          "
                          class="list-group-item"
                        >
                          {{ freelancer.FreelancerName }} - Status:
                          {{ freelancer.Status }}
                          <button
                            *ngIf="freelancer.Status === 'pending'"
                            class="btn btn-success"
                            (click)="
                              acceptFreelancer(
                                publicJobOffer._id,
                                freelancer.FreelancerId
                              )
                            "
                          >
                            Accept
                          </button>
                          <button
                            *ngIf="
                              publicJobOffer.status === 'freelancer accepted'
                            "
                            class="btn btn-primary"
                            (click)="createContract(publicJobOffer._id)"
                          >
                            Send Contract
                          </button>
                          <div
                            *ngIf="
                              publicJobOffer.status ===
                              'Contract Sent Awaiting Freelancer Response'
                            "
                          >
                            Contract Sent Awaiting Freelancer Response
                          </div>
                          <div *ngIf="publicJobOffer.status === 'Declined'">
                            Contract Declined <br />
                            <button>Make it Public ?</button>
                          </div>
                          <div *ngIf="publicJobOffer.status === 'Accepted'">
                            Contract Accepted <br />
                            <button>Start Work</button>
                          </div>
                          <div *ngIf="publicJobOffer.status === 'in progress'">
                            In Progress
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
